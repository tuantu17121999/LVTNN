<div class="order-card">
    <div class="order-details row">
        <div class="col-6">
            <p><strong>Khách hàng:</strong> Nguyễn Văn A</p>
        </div>
        <div class="col-6">
            <p><strong>Số điện thoại:</strong> 0123456789</p>
        </div>
    </div>
    <div class="row">
        <div class="col-3">
            <p><strong>Time:</strong> <span class="order-time">{{this.status}}</span></p>
        </div>
        <div class="col-4">
            <p><strong>Tổng tiền:</strong> <span class="">{{this.moneyTotal}}</span></p>
        </div>
        <div class="col-3">
            <p><strong>Pay:</strong> <span class="">{{this.payment}}</span></p>
        </div>
    </div>
    <ul class="order-items">
        <li>1x Pizza</li>
        <li>2x Soda</li>
    </ul>
    <div class="order-actions">
        <button class="btn-complete" onclick="completeOrder('{{this._id}}')">Hoàn thành</button>
        <button class="btn-cancel" onclick="showCancelModal()">Huỷ</button>
    </div>
</div>

<script>
    function completeOrder(id) {
        // Gửi yêu cầu xác nhận đơn hàng đến server
        fetch(`/staff/order/complete/${id}`, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ id: id })
        })
            .then(response => response.json())
            .then(data => {
                // Xử lý kết quả từ server
                alert('Đơn hàng đã được hoàn thành!');
                window.location.reload(); // Reload lại trang sau khi xác nhận đơn hàng
            })
            .catch((error) => {
                console.error('Error:', error);
            });
    }
</script>